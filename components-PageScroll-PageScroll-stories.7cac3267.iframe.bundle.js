"use strict";(self.webpackChunk_anton_bobrov_react_components=self.webpackChunk_anton_bobrov_react_components||[]).push([[797],{"./src/utils/prefixedClassName.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function prefixedClassName(className){return`rkc-${className}`}__webpack_require__.d(__webpack_exports__,{e:()=>prefixedClassName})},"./src/utils/prefixedClassNames.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>prefixedClasNames});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../react-hooks/lib/esm/utils/types/isString.js"),_prefixedClassName__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/prefixedClassName.ts");function prefixedClasNames(...classNames){return classnames__WEBPACK_IMPORTED_MODULE_0___default()(classNames.map((value=>(0,_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_1__.H)(value)?(0,_prefixedClassName__WEBPACK_IMPORTED_MODULE_2__.e)(value):"")))}},"../react-hooks/lib/esm/hooks/useEvent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>useEvent});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},useEvent=function(callback){var callbackRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){callbackRef.current=callback}),[callback]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return null===(_a=callbackRef.current)||void 0===_a?void 0:_a.call.apply(_a,__spreadArray([callbackRef],args,!1))}),[])}},"../react-hooks/lib/esm/utils/data/times.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function times(callback,count){for(var index=0,list=[];index<count;)list.push(callback(index,count)),index+=1;return list}__webpack_require__.d(__webpack_exports__,{D:()=>times})},"../react-hooks/lib/esm/utils/types/isString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isString(value){return"string"==typeof value}__webpack_require__.d(__webpack_exports__,{H:()=>isString})},"../react-hooks/lib/esm/utils/types/isUndefined.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isUndefined(value){return void 0===value}__webpack_require__.d(__webpack_exports__,{o:()=>isUndefined})},"./src/components/PageScroll/PageScroll.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>PageScroll_stories});var react=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),times=__webpack_require__("../react-hooks/lib/esm/utils/data/times.js"),esm=__webpack_require__("../../common/temp/node_modules/.pnpm/vevet@4.0.2_typescript@4.8.2/node_modules/vevet/lib/esm/index.js"),CustomScroll=__webpack_require__("../../common/temp/node_modules/.pnpm/vevet@4.0.2_typescript@4.8.2/node_modules/vevet/lib/esm/components/CustomScroll/index.js"),CustomScrollKeyboardPlugin=__webpack_require__("../../common/temp/node_modules/.pnpm/vevet@4.0.2_typescript@4.8.2/node_modules/vevet/lib/esm/components/CustomScrollKeyboardPlugin/index.js"),CustomScrollDragPlugin=__webpack_require__("../../common/temp/node_modules/.pnpm/vevet@4.0.2_typescript@4.8.2/node_modules/vevet/lib/esm/components/CustomScrollDragPlugin/index.js"),useEvent=__webpack_require__("../react-hooks/lib/esm/hooks/useEvent.js"),isUndefined=__webpack_require__("../react-hooks/lib/esm/utils/types/isUndefined.js"),use_deep_compare_effect_esm=__webpack_require__("../../common/temp/node_modules/.pnpm/use-deep-compare-effect@1.8.1_react@18.2.0/node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js"),prefixedClassNames=__webpack_require__("./src/utils/prefixedClassNames.ts");const PageScrollContext=(0,react.createContext)({});var jsx_runtime=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const Provider=({children,getType:getTypeProp,customScrollProps={},onCustomScrollInit:onCustomScrollInitProp})=>{const store=function usePageScrollProviderStore(){const[store,setStore]=(0,react.useState)({selector:void 0,setSelector:data=>{setStore((prevValue=>({...prevValue,selector:data})))},customContainer:void 0,setCustomContainer:data=>{setStore((prevValue=>({...prevValue,customContainer:data})))}});return store}(),{selector,setSelector,customContainer}=store,[initialCustomScrollProps]=(0,react.useState)(customScrollProps),htmlCustomClassName=(0,prefixedClassNames.I)("page-scroll-use-custom"),onCustomScrollInit=(0,useEvent.z)(onCustomScrollInitProp),getType=(0,useEvent.z)(getTypeProp),hasGetType=!(0,isUndefined.o)(getTypeProp);return(0,react.useEffect)((()=>{const html=document.documentElement,isCustomByProp=hasGetType&&getType?"custom"===getType():void 0,isCustomByDefault=!esm.vevet.isMobile;if(!(isCustomByProp??isCustomByDefault)||!customContainer){const timeout=setTimeout((()=>{html.classList.remove(htmlCustomClassName),setSelector?.(window)}),16);return()=>{setSelector?.(void 0),clearTimeout(timeout)}}html.classList.add(htmlCustomClassName);const scroll=new CustomScroll.c({container:customContainer,hasWillChange:!esm.vevet.browserName.includes("firefox"),lerp:.1,lerpApproximation:.5,isEnabled:!0,...initialCustomScrollProps});return setSelector?.(scroll),scroll.addPlugin(new CustomScrollKeyboardPlugin._),window.matchMedia("(any-pointer: coarse)").matches&&scroll.addPlugin(new CustomScrollDragPlugin.x({lerp:.35})),onCustomScrollInit?.(scroll),()=>{setSelector?.(void 0),scroll.destroy(),html.classList.remove(htmlCustomClassName)}}),[getType,htmlCustomClassName,initialCustomScrollProps,onCustomScrollInit,setSelector,customContainer,hasGetType]),(0,react.useEffect)((()=>{selector&&selector instanceof CustomScroll.c&&selector.changeProps({...customScrollProps})}),[selector,(0,use_deep_compare_effect_esm.Uf)(customScrollProps)]),(0,react.useEffect)((()=>{!(0,isUndefined.o)(selector)&&"resize"in selector&&selector.resize()}),[selector]),(0,jsx_runtime.jsx)(PageScrollContext.Provider,{value:store,children})};Provider.displayName="Provider";try{Provider.displayName="Provider",Provider.__docgenInfo={description:"PageScroll provider",displayName:"Provider",props:{getType:{defaultValue:null,description:"Define type of scrolling",name:"getType",required:!1,type:{name:'(() => "custom" | "native")'}},customScrollProps:{defaultValue:{value:"{}"},description:"Custom scrolling properties",name:"customScrollProps",required:!1,type:{name:"IChangeableProps"}},onCustomScrollInit:{defaultValue:null,description:"Callback on custom scroll initialization",name:"onCustomScrollInit",required:!1,type:{name:"((customScroll: CustomScroll<IStaticProps, IChangeableProps, ICallbacksTypes>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PageScroll/Provider/index.tsx#Provider"]={docgenInfo:Provider.__docgenInfo,name:"Provider",path:"src/components/PageScroll/Provider/index.tsx#Provider"})}catch(__react_docgen_typescript_loader_error){}var classnames=__webpack_require__("../../common/temp/node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);const CustomContainer=({children})=>{const ref=(0,react.useRef)(null),{selector,setCustomContainer}=(0,react.useContext)(PageScrollContext),isCustom=selector instanceof CustomScroll.c;return(0,react.useEffect)((()=>(setCustomContainer?.(ref.current),()=>setCustomContainer?.(null))),[setCustomContainer]),(0,jsx_runtime.jsx)("div",{className:classnames_default()((0,prefixedClassNames.I)("page-scroll-custom-container",isCustom&&"is-custom")),children:(0,jsx_runtime.jsx)("div",{ref,className:"v-custom-scroll",children:(0,jsx_runtime.jsx)("div",{className:"v-custom-scroll__wrapper",children})})})};CustomContainer.displayName="CustomContainer";try{CustomContainer.displayName="CustomContainer",CustomContainer.__docgenInfo={description:"Container for custom scrolling.\nWrap your page with this component to enable custom scrolling.",displayName:"CustomContainer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PageScroll/CustomContainer/index.tsx#CustomContainer"]={docgenInfo:CustomContainer.__docgenInfo,name:"CustomContainer",path:"src/components/PageScroll/CustomContainer/index.tsx#CustomContainer"})}catch(__react_docgen_typescript_loader_error){}var ScrollBar=__webpack_require__("../../common/temp/node_modules/.pnpm/vevet@4.0.2_typescript@4.8.2/node_modules/vevet/lib/esm/components/ScrollBar/index.js");const ScrollBar_ScrollBar=({children,resizeKey,isDisabled,isDraggable=!0,shouldAutoSize=!0,canAutoHide=!0,minSize=50})=>{const[scrollbar,setScrollbar]=(0,react.useState)(),scrollSelector=function usePageScrollSelector(){const store=(0,react.useContext)(PageScrollContext),[selector,setSelector]=(0,react.useState)();return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>setSelector(store.selector)),16);return()=>clearTimeout(timeout)}),[store.selector]),selector}();return(0,react.useEffect)((()=>{if(!scrollSelector||esm.vevet.isMobile||isDisabled)return;const instance=new ScrollBar.B({container:scrollSelector,domParent:document.body,isDraggable,shouldAutoSize,canAutoHide,minSize});setScrollbar(instance);const{xBar,yBar}=instance,scrollbarClassName=(0,prefixedClassNames.I)("page-scroll-scrollbar"),pageScrollBarClassName=(0,prefixedClassNames.I)("page-scroll-scrollbar-parent");return xBar.outer.classList.add(scrollbarClassName),yBar.outer.classList.add(scrollbarClassName),esm.vevet.html.classList.add(pageScrollBarClassName),esm.vevet.body.classList.add(pageScrollBarClassName),()=>{instance.destroy(),esm.vevet.html.classList.remove(pageScrollBarClassName),esm.vevet.body.classList.remove(pageScrollBarClassName)}}),[scrollSelector,isDisabled,isDraggable,shouldAutoSize,canAutoHide,minSize]),(0,react.useEffect)((()=>{scrollbar?.isDestroyed||scrollbar?.resize()}),[resizeKey,scrollbar]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children})};try{ScrollBar_ScrollBar.displayName="ScrollBar",ScrollBar_ScrollBar.__docgenInfo={description:"Custom scrollbar",displayName:"ScrollBar",props:{isDisabled:{defaultValue:null,description:"Do not use scrollbar",name:"isDisabled",required:!1,type:{name:"boolean"}},resizeKey:{defaultValue:null,description:"Change the key to update the scrollbar",name:"resizeKey",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PageScroll/ScrollBar/index.tsx#ScrollBar"]={docgenInfo:ScrollBar_ScrollBar.__docgenInfo,name:"ScrollBar",path:"src/components/PageScroll/ScrollBar/index.tsx#ScrollBar"})}catch(__react_docgen_typescript_loader_error){}Provider.displayName="PageScroll.Provider",CustomContainer.displayName="PageScroll.CustomContainer",ScrollBar_ScrollBar.displayName="PageScroll.ScrollBar";const PageScroll={Provider,CustomContainer,ScrollBar:ScrollBar_ScrollBar},PageScroll_stories={title:"Scroll/PageScroll",component:PageScroll.Provider},Components=()=>(0,jsx_runtime.jsx)("div",{children:(0,times.D)((index=>(0,jsx_runtime.jsx)("div",{children:"Element"},index)),100)});Components.displayName="Components";const Template=props=>(0,jsx_runtime.jsxs)(PageScroll.Provider,{...props,getType:()=>"custom",children:[(0,jsx_runtime.jsx)(PageScroll.ScrollBar,{canAutoHide:!1}),(0,jsx_runtime.jsx)(PageScroll.CustomContainer,{children:(0,jsx_runtime.jsx)(Components,{})})]});Template.displayName="Template";const Default=Template.bind({});Default.args={},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"props => <PageScroll.Provider {...props} getType={() => 'custom'}>\r\n    <PageScroll.ScrollBar canAutoHide={false} />\r\n\r\n    <PageScroll.CustomContainer>\r\n      <Components />\r\n    </PageScroll.CustomContainer>\r\n  </PageScroll.Provider>",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]}}]);