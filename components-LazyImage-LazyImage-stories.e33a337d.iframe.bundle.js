/*! For license information please see components-LazyImage-LazyImage-stories.e33a337d.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_anton_bobrov_react_components=self.webpackChunk_anton_bobrov_react_components||[]).push([[658],{"./src/components/BaseImage/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>BaseImage});var react=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),es=__webpack_require__("../../common/temp/node_modules/.pnpm/vevet@2.17.0/node_modules/vevet/build/es/index.js");var generatePlaceholderImage=__webpack_require__("./src/components/BaseImage/utils/generatePlaceholderImage.ts"),jsx_runtime=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const BaseImage=(0,react.forwardRef)((({src:srcProp,paths,srcSet:srcSetProp,...props},ref)=>{const width=paths?.width??props.width,height=paths?.height??props.height,alt=paths?.alt??props.alt,src=function getSrc({paths,src}){return paths?paths.thumb||paths.original:src}({src:srcProp,paths}),[srcSet,setSrcSet]=(0,react.useState)((0,generatePlaceholderImage.q)(width,height));return(0,react.useEffect)((()=>{setSrcSet(function getSrcSet({srcSet,paths}){if(srcSet)return srcSet;if(!paths)return;const imagePaths=paths?es.P6.image.pathsToProps(paths):void 0;return imagePaths?imagePaths.srcSet||imagePaths.src:void 0}({srcSet:srcSetProp,paths}))}),[paths,srcSetProp]),(0,jsx_runtime.jsx)("img",{...props,ref,src,srcSet,width,height,alt})}));BaseImage.displayName="BaseImage";try{BaseImage.displayName="BaseImage",BaseImage.__docgenInfo={description:"Base image that supports adaptive paths",displayName:"BaseImage",props:{paths:{defaultValue:null,description:"Image paths",name:"paths",required:!1,type:{name:"IImagePaths | IImageAdaptivePaths"}},src:{defaultValue:null,description:"Image `src`",name:"src",required:!1,type:{name:"string"}},alt:{defaultValue:null,description:"Alternate text",name:"alt",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BaseImage/index.tsx#BaseImage"]={docgenInfo:BaseImage.__docgenInfo,name:"BaseImage",path:"src/components/BaseImage/index.tsx#BaseImage"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/BaseImage/utils/generatePlaceholderImage.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>generatePlaceholderImage});var _anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../react-hooks/lib/esm/utils/types/isUndefined.js");const defaultPlaceholderImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURQAAAAAAAKVnuc8AAAACdFJOU/8A5bcwSgAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAFFJREFUaEPtzTEBADAMBKG+f9PVwJLpMMDbgRJSQkpICSkhJaSElJASUkJKSAkpISWkhJSQElJCSkgJKSElpISUkBJSQkpICSkhJaSElJASsH3mMicR4O5sFAAAAABJRU5ErkJggg==";function generatePlaceholderImage(width,height){if((0,_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_0__.o)(width)&&(0,_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_0__.o)(height))return defaultPlaceholderImage;return`data:image/svg+xml;base64,${btoa(`<svg width="${width}" height="${height}" viewBox="0 0 ${width} ${height}" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="${width}" height="${height}" fill="transparent"/></svg>`)}`}},"./src/utils/prefixedClassName.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function prefixedClassName(className){return`rkc-${className}`}__webpack_require__.d(__webpack_exports__,{e:()=>prefixedClassName})},"./src/utils/prefixedClassNames.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>prefixedClasNames});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../react-hooks/lib/esm/utils/types/isString.js"),_prefixedClassName__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/prefixedClassName.ts");function prefixedClasNames(...classNames){return classnames__WEBPACK_IMPORTED_MODULE_0___default()(classNames.map((value=>(0,_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_1__.H)(value)?(0,_prefixedClassName__WEBPACK_IMPORTED_MODULE_2__.e)(value):"")))}},"../react-hooks/lib/esm/hooks/useEvent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>useEvent});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},useEvent=function(callback){var callbackRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){callbackRef.current=callback}),[callback]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return null===(_a=callbackRef.current)||void 0===_a?void 0:_a.call.apply(_a,__spreadArray([callbackRef],args,!1))}),[])}},"../react-hooks/lib/esm/hooks/useForwardedRef.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>useForwardedRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");function useForwardedRef(forwardedRef){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(forwardedRef,(function(){return ref.current})),ref}},"../react-hooks/lib/esm/hooks/useOnInViewport.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>useOnInViewport});var _utils_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../react-hooks/lib/esm/utils/api/isIntersectionObserverSupported.js"),_utils_env__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../react-hooks/lib/esm/utils/env/isBrowser.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_utils_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../react-hooks/lib/esm/utils/types/isUndefined.js"),_utils_internal_getHookEventElement__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../react-hooks/lib/esm/utils/internal/getHookEventElement.js"),_useEvent__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../react-hooks/lib/esm/hooks/useEvent.js"),observer=_utils_env__WEBPACK_IMPORTED_MODULE_1__.j&&(0,_utils_api__WEBPACK_IMPORTED_MODULE_2__.a)()?new IntersectionObserver((function(entries){entries.forEach((function(entry){var _a,_b,element=entry.target;entry.isIntersecting&&(null===(_a=element._useOnInViewportCallbacks)||void 0===_a||_a.filter((function(_a){return"in"===_a.state})).forEach((function(_a){return(0,_a.callback)()}))),entry.isIntersecting||null===(_b=element._useOnInViewportCallbacks)||void 0===_b||_b.filter((function(_a){return"out"===_a.state})).forEach((function(_a){return(0,_a.callback)()}))}))}),{root:null,threshold:0,rootMargin:"0px 0px 0px 0px"}):null;function useOnInViewport(_a){var ref=_a.ref,onInProp=_a.onIn,onOutProp=_a.onOut,onFallbackProp=_a.onFallback,destroyOnIn=_a.destroyOnIn,isDisabled=_a.isDisabled,id=(0,react__WEBPACK_IMPORTED_MODULE_0__.useId)(),onIn=(0,_useEvent__WEBPACK_IMPORTED_MODULE_3__.z)(onInProp),onOut=(0,_useEvent__WEBPACK_IMPORTED_MODULE_3__.z)(onOutProp),onFallback=(0,_useEvent__WEBPACK_IMPORTED_MODULE_3__.z)(onFallbackProp),_b=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),state=_b[0],setState=_b[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!isDisabled){var element=(0,_utils_internal_getHookEventElement__WEBPACK_IMPORTED_MODULE_4__.I)(ref);if(element){if(observer)return!(0,_utils_types__WEBPACK_IMPORTED_MODULE_5__.o)(element._useOnInViewportCallbacks)&&Array.isArray(element._useOnInViewportCallbacks)||(element._useOnInViewportCallbacks=[]),element._useOnInViewportCallbacks.push({id,state:"in",callback:function(){setState("in"),null==onIn||onIn(),destroyOnIn&&observer.unobserve(element)}}),element._useOnInViewportCallbacks.push({id,state:"out",callback:function(){setState("out"),null==onOut||onOut()}}),observer.observe(element),function(){var _a;element._useOnInViewportCallbacks=null===(_a=element._useOnInViewportCallbacks)||void 0===_a?void 0:_a.filter((function(callback){return callback.id!==id})),observer.unobserve(element)};null==onFallback||onFallback()}}}),[destroyOnIn,id,onFallback,onIn,onOut,ref,isDisabled]),{state}}},"../react-hooks/lib/esm/utils/api/isIntersectionObserverSupported.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isIntersectionObserverSupported(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}__webpack_require__.d(__webpack_exports__,{a:()=>isIntersectionObserverSupported})},"../react-hooks/lib/esm/utils/env/isBrowser.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>isBrowser});var isBrowser="undefined"!=typeof window},"../react-hooks/lib/esm/utils/internal/getHookEventElement.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getHookEventElement(ref){return ref&&"current"in ref?ref.current:ref}__webpack_require__.d(__webpack_exports__,{I:()=>getHookEventElement})},"../react-hooks/lib/esm/utils/types/isString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isString(value){return"string"==typeof value}__webpack_require__.d(__webpack_exports__,{H:()=>isString})},"../react-hooks/lib/esm/utils/types/isUndefined.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isUndefined(value){return void 0===value}__webpack_require__.d(__webpack_exports__,{o:()=>isUndefined})},"./src/components/LazyImage/LazyImage.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithAdaptivePaths:()=>WithAdaptivePaths,WithAlpha:()=>WithAlpha,WithEager:()=>WithEager,WithoutAlpha:()=>WithoutAlpha,__namedExportsOrder:()=>__namedExportsOrder,default:()=>LazyImage_stories});var react=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),useForwardedRef=__webpack_require__("../react-hooks/lib/esm/hooks/useForwardedRef.js"),useEvent=__webpack_require__("../react-hooks/lib/esm/hooks/useEvent.js"),classnames=__webpack_require__("../../common/temp/node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),generatePlaceholderImage=__webpack_require__("./src/components/BaseImage/utils/generatePlaceholderImage.ts"),prefixedClassNames=__webpack_require__("./src/utils/prefixedClassNames.ts"),BaseImage=__webpack_require__("./src/components/BaseImage/index.tsx"),useOnInViewport=__webpack_require__("../react-hooks/lib/esm/hooks/useOnInViewport.js");var jsx_runtime=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const LazyImage=(0,react.forwardRef)((({className,style,position="cover",onLoad:onLoadProp,hasAlpha=!0,loading:loadingProp="lazy",isNativeLazy=!1,paths,...tagProps},forwardedRef)=>{const ref=(0,useForwardedRef.t)(forwardedRef),onLoad=(0,useEvent.z)(onLoadProp),[isLoaded,setIsLoaded]=(0,react.useState)(!1),classNames=(0,prefixedClassNames.I)("lazy-image",hasAlpha&&"has-alpha",position,isLoaded&&"is-loaded"),width=paths?.width??tagProps.width,height=paths?.height??tagProps.height,{isToBeLoaded,loading}=function useLazyImageStates({ref,loading:loadingProp,isNativeLazy}){const[isLazyToBeLoaded,setIsLazyToBeLoaded]=(0,react.useState)(!1);return(0,useOnInViewport.S)({ref,onIn:()=>{"lazy"===loadingProp&&setIsLazyToBeLoaded(!0)},onFallback:()=>{"lazy"===loadingProp&&setIsLazyToBeLoaded(!0)},destroyOnIn:!0,isDisabled:isNativeLazy}),(0,react.useEffect)((()=>{isNativeLazy||"eager"===loadingProp&&setIsLazyToBeLoaded(!0)}),[isNativeLazy,loadingProp]),{isToBeLoaded:isLazyToBeLoaded||isNativeLazy,loading:isNativeLazy?loadingProp:void 0}}({ref,loading:loadingProp,isNativeLazy});return(0,jsx_runtime.jsx)(BaseImage.Z,{ref,...tagProps,className:classnames_default()(classNames,className),style,loading,paths,srcSet:isToBeLoaded?void 0:(0,generatePlaceholderImage.q)(width,height),onLoad:event=>{isToBeLoaded&&(setIsLoaded(!0),onLoad?.(event.currentTarget))}})}));LazyImage.displayName="LazyImage";try{LazyImage.displayName="LazyImage",LazyImage.__docgenInfo={description:"Lazy image component",displayName:"LazyImage",props:{position:{defaultValue:{value:"cover"},description:"Image position",name:"position",required:!1,type:{name:'false | "cover" | "contain" | "fullabs"'}},onLoad:{defaultValue:null,description:"The event occurs when the image is loaded",name:"onLoad",required:!1,type:{name:"((image: HTMLImageElement) => void)"}},hasAlpha:{defaultValue:{value:"true"},description:"Use opacity animation",name:"hasAlpha",required:!1,type:{name:"boolean"}},loading:{defaultValue:{value:"'lazy'"},description:"Loading type",name:"loading",required:!1,type:{name:"enum",value:[{value:'"eager"'},{value:'"lazy"'}]}},isNativeLazy:{defaultValue:{value:"false"},description:"Use native `lazy` attribute",name:"isNativeLazy",required:!1,type:{name:"boolean"}},src:{defaultValue:null,description:"Image `src`",name:"src",required:!1,type:{name:"string"}},alt:{defaultValue:null,description:"Alternate text",name:"alt",required:!1,type:{name:"string"}},paths:{defaultValue:null,description:"Image paths",name:"paths",required:!1,type:{name:"IImagePaths | IImageAdaptivePaths"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LazyImage/index.tsx#LazyImage"]={docgenInfo:LazyImage.__docgenInfo,name:"LazyImage",path:"src/components/LazyImage/index.tsx#LazyImage"})}catch(__react_docgen_typescript_loader_error){}const LazyImage_stories={title:"Image/LazyImage",component:LazyImage,tags:["autodocs"],decorators:[Story=>(0,jsx_runtime.jsx)("div",{style:{position:"relative",width:200,height:200},children:(0,jsx_runtime.jsx)(Story,{})})]},WithAlpha={args:{src:"./image/image.jpg",hasAlpha:!0}},WithoutAlpha={args:{src:"./image/image.jpg",hasAlpha:!1}},WithEager={args:{src:"./image/image.jpg",loading:"eager"}},WithAdaptivePaths={args:{paths:{original:"",thumb:"./image/image.jpg",thumbWebp:"./image/image.webp",sizes:{640:"./image/640.png",750:"./image/750.png",1024:"./image/1024.png",1440:"./image/1440.png",1920:"./image/1920.png",2560:"./image/2560.png"},sizesWebp:{640:"./image/640.webp",750:"./image/750.webp",1024:"./image/1024.webp",1440:"./image/1440.webp",1920:"./image/1920.webp",2560:"./image/2560.webp"},alt:"adaptive image"}}};WithAlpha.parameters={...WithAlpha.parameters,docs:{...WithAlpha.parameters?.docs,source:{originalSource:"{\n  args: {\n    src: './image/image.jpg',\n    hasAlpha: true\n  }\n}",...WithAlpha.parameters?.docs?.source}}},WithoutAlpha.parameters={...WithoutAlpha.parameters,docs:{...WithoutAlpha.parameters?.docs,source:{originalSource:"{\n  args: {\n    src: './image/image.jpg',\n    hasAlpha: false\n  }\n}",...WithoutAlpha.parameters?.docs?.source}}},WithEager.parameters={...WithEager.parameters,docs:{...WithEager.parameters?.docs,source:{originalSource:"{\n  args: {\n    src: './image/image.jpg',\n    loading: 'eager'\n  }\n}",...WithEager.parameters?.docs?.source}}},WithAdaptivePaths.parameters={...WithAdaptivePaths.parameters,docs:{...WithAdaptivePaths.parameters?.docs,source:{originalSource:"{\n  args: {\n    paths: {\n      original: '',\n      thumb: './image/image.jpg',\n      thumbWebp: './image/image.webp',\n      sizes: {\n        640: './image/640.png',\n        750: './image/750.png',\n        1024: './image/1024.png',\n        1440: './image/1440.png',\n        1920: './image/1920.png',\n        2560: './image/2560.png'\n      },\n      sizesWebp: {\n        640: './image/640.webp',\n        750: './image/750.webp',\n        1024: './image/1024.webp',\n        1440: './image/1440.webp',\n        1920: './image/1920.webp',\n        2560: './image/2560.webp'\n      },\n      alt: 'adaptive image'\n    }\n  }\n}",...WithAdaptivePaths.parameters?.docs?.source}}};const __namedExportsOrder=["WithAlpha","WithoutAlpha","WithEager","WithAdaptivePaths"]},"../../common/temp/node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}}]);