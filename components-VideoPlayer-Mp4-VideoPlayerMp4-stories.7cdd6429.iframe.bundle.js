/*! For license information please see components-VideoPlayer-Mp4-VideoPlayerMp4-stories.7cdd6429.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_anton_bobrov_react_components=self.webpackChunk_anton_bobrov_react_components||[]).push([[455],{"./src/components/VideoPlayer/Mp4/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>VideoPlayerMp4});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../react-hooks/lib/esm/hooks/useEvent.js"),_anton_bobrov_vevet_init__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../vevet-init/lib/esm/index.js"),_utils_prefixedClassNames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/prefixedClassNames.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const VideoPlayerMp4=({src,autoplay=!1,controls=!0,playsInline=!0,onLoad:onLoadProp,onVideoReady:onVideoReadyProp,onPlayerReady:onPlayerReadyProp})=>{const videoRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),onLoad=(0,_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_2__.z)(onLoadProp),onVideoReady=(0,_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_2__.z)(onVideoReadyProp),onPlayerReady=(0,_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_2__.z)(onPlayerReadyProp),[isLoaded,setIsLoaded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[canUsePlayer]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!(!_anton_bobrov_vevet_init__WEBPACK_IMPORTED_MODULE_3__.vevet||_anton_bobrov_vevet_init__WEBPACK_IMPORTED_MODULE_3__.vevet.isMobile)),[isPlayerReady,setIsPlayerReady]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const{current:video}=videoRef;if(!video||!canUsePlayer)return;let player,playerCallbackDestructor,isDestryed=!1;return Promise.all([__webpack_require__.e(740),__webpack_require__.e(672)]).then(__webpack_require__.bind(__webpack_require__,"../../common/temp/node_modules/.pnpm/video.js@8.2.1/node_modules/video.js/dist/video.es.js")).then((module=>{isDestryed||(player=module.default(video,{}),playerCallbackDestructor=onPlayerReady?.(player),setIsPlayerReady(!0))})).catch((()=>{})),()=>{isDestryed=!0,player?.dispose(),playerCallbackDestructor?.()}}),[canUsePlayer,onPlayerReady,videoRef]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const video=videoRef.current;if(!video)return;const destrutor=onVideoReady?.(video);return()=>destrutor?.()}),[onVideoReady]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{isLoaded&&(canUsePlayer&&isPlayerReady||!canUsePlayer)&&onLoad?.()}),[canUsePlayer,isLoaded,isPlayerReady,onLoad]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:(0,_utils_prefixedClassNames__WEBPACK_IMPORTED_MODULE_4__.I)("video-player-mp4"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{"data-vjs-player":!0,className:"video-js",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("video",{ref:videoRef,disablePictureInPicture:!0,preload:"auto",autoPlay:autoplay,controls,controlsList:"nodownload",playsInline,onLoadedMetadata:()=>setIsLoaded(!0),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("source",{src:`${src}#t=0.1`,type:"video/mp4"})})})})};VideoPlayerMp4.displayName="VideoPlayerMp4";try{VideoPlayerMp4.displayName="VideoPlayerMp4",VideoPlayerMp4.__docgenInfo={description:"Custom mp4 player",displayName:"VideoPlayerMp4",props:{src:{defaultValue:null,description:"Video source",name:"src",required:!0,type:{name:"string"}},onLoad:{defaultValue:null,description:"Event on video loaded",name:"onLoad",required:!1,type:{name:"(() => void)"}},onVideoReady:{defaultValue:null,description:"Event on video ready",name:"onVideoReady",required:!1,type:{name:"((video: HTMLVideoElement) => () => void)"}},onPlayerReady:{defaultValue:null,description:"Event on player ready",name:"onPlayerReady",required:!1,type:{name:"((player: Player) => () => void)"}},autoplay:{defaultValue:{value:"false"},description:"Autoplay video",name:"autoplay",required:!1,type:{name:"boolean"}},controls:{defaultValue:{value:"true"},description:"Use video controls",name:"controls",required:!1,type:{name:"boolean"}},playsInline:{defaultValue:{value:"true"},description:"playsInline",name:"playsInline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VideoPlayer/Mp4/index.tsx#VideoPlayerMp4"]={docgenInfo:VideoPlayerMp4.__docgenInfo,name:"VideoPlayerMp4",path:"src/components/VideoPlayer/Mp4/index.tsx#VideoPlayerMp4"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/prefixedClassName.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function prefixedClassName(className){return`rkc-${className}`}__webpack_require__.d(__webpack_exports__,{e:()=>prefixedClassName})},"./src/utils/prefixedClassNames.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>prefixedClasNames});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../react-hooks/lib/esm/utils/types/isString.js"),_prefixedClassName__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/prefixedClassName.ts");function prefixedClasNames(...classNames){return classnames__WEBPACK_IMPORTED_MODULE_0___default()(classNames.map((value=>(0,_anton_bobrov_react_hooks__WEBPACK_IMPORTED_MODULE_1__.H)(value)?(0,_prefixedClassName__WEBPACK_IMPORTED_MODULE_2__.e)(value):"")))}},"../react-hooks/lib/esm/hooks/useEvent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>useEvent});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},useEvent=function(callback){var callbackRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){callbackRef.current=callback}),[callback]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return null===(_a=callbackRef.current)||void 0===_a?void 0:_a.call.apply(_a,__spreadArray([callbackRef],args,!1))}),[])}},"../react-hooks/lib/esm/utils/types/isString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isString(value){return"string"==typeof value}__webpack_require__.d(__webpack_exports__,{H:()=>isString})},"../vevet-init/lib/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{vevet:()=>vevet});var vevet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../common/temp/node_modules/.pnpm/vevet@3.18.0_typescript@4.8.2/node_modules/vevet/lib/esm/Application/index.js"),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},overrideProps="undefined"!=typeof window&&"vevetProps"in window?window.vevetProps:{},props=__assign(__assign({},{tablet:1199,phone:899,resizeDebounce:30,easing:[.25,.1,.25,1],shouldCheckWebpSupport:!0,widthDetection:"boundingRect"}),overrideProps),vevet="undefined"!=typeof window?new vevet__WEBPACK_IMPORTED_MODULE_0__.M(__assign(__assign({},props),{prefix:"v-"})):void 0},"./src/components/VideoPlayer/Mp4/VideoPlayerMp4.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");var ___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/VideoPlayer/Mp4/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../common/temp/node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Video/VideoPlayerMp4",component:___WEBPACK_IMPORTED_MODULE_2__.b,tags:["autodocs"],decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"relative",width:300,height:168},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{})})]},Default={args:{src:"./video/video.mp4"}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    src: './video/video.mp4'\n  }\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"../../common/temp/node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}}]);